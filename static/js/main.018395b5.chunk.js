(this["webpackJsonpkim0xsugar-playground"]=this["webpackJsonpkim0xsugar-playground"]||[]).push([[0],{234:function(e){e.exports=JSON.parse("{}")},235:function(e){e.exports=JSON.parse("{}")},236:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string[]","name":"collateralTypes","type":"string[]"},{"internalType":"contract IFeed[]","name":"feed","type":"address[]"},{"internalType":"address","name":"usr","type":"address"}],"name":"getAccountInfos","outputs":[{"internalType":"uint256[]","name":"totalLockCollaterals","type":"uint256[]"},{"internalType":"uint256[]","name":"totalLoans","type":"uint256[]"},{"internalType":"uint256[]","name":"oraclePrices","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"collateralType","type":"string"},{"internalType":"contract IFeed","name":"feed","type":"address"}],"name":"getCollateralInfo","outputs":[{"internalType":"uint256","name":"totalLockCollateral","type":"uint256"},{"internalType":"uint256","name":"totalLoan","type":"uint256"},{"internalType":"uint256","name":"oraclePrice","type":"uint256"},{"internalType":"uint256","name":"vaultLength","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string[]","name":"collateralTypes","type":"string[]"},{"internalType":"contract IFeed[]","name":"feeds","type":"address[]"}],"name":"getCollateralInfos","outputs":[{"internalType":"uint256[]","name":"totalLockCollaterals","type":"uint256[]"},{"internalType":"uint256[]","name":"totalLoans","type":"uint256[]"},{"internalType":"uint256[]","name":"oraclePrices","type":"uint256[]"},{"internalType":"uint256[]","name":"vaultLengths","type":"uint256[]"},{"internalType":"uint256[]","name":"rates","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"collateralType","type":"string"},{"internalType":"uint256","name":"si","type":"uint256"},{"internalType":"uint256","name":"ei","type":"uint256"}],"name":"getVaultInfoList","outputs":[{"internalType":"uint256[]","name":"totalLockCollaterals","type":"uint256[]"},{"internalType":"uint256[]","name":"totalLoans","type":"uint256[]"},{"internalType":"uint256[]","name":"indexes","type":"uint256[]"},{"internalType":"address[]","name":"accounts","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ledger","outputs":[{"internalType":"contract ILedger","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},237:function(e){e.exports=JSON.parse('[{"inputs":[],"name":"getPositionPoolList","outputs":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint8","name":"decimals","type":"uint8"},{"internalType":"uint256","name":"maxLtv","type":"uint256"},{"internalType":"uint256","name":"liqudation","type":"uint256"},{"internalType":"uint256","name":"oraclePrice","type":"uint256"}],"internalType":"struct KlaswapPositionPoolDataProvider.PositionPool[]","name":"positionPools","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"idx","type":"uint256"}],"name":"getPositionPoolList","outputs":[{"components":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint8","name":"decimals","type":"uint8"},{"internalType":"uint256","name":"maxLtv","type":"uint256"},{"internalType":"uint256","name":"liqudation","type":"uint256"},{"internalType":"uint256","name":"oraclePrice","type":"uint256"}],"internalType":"struct KlaswapPositionPoolDataProvider.PositionPool","name":"positionPools","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pool","type":"address"},{"internalType":"address[]","name":"addresses","type":"address[]"}],"name":"getUserDataList","outputs":[{"components":[{"internalType":"uint256","name":"collateralInUsd","type":"uint256"},{"internalType":"uint256","name":"borrowedInUsd","type":"uint256"},{"internalType":"uint256","name":"swappedInUsd","type":"uint256"},{"internalType":"int256","name":"positionAmount","type":"int256"},{"internalType":"int256","name":"pnl","type":"int256"},{"internalType":"int256","name":"roe","type":"int256"},{"internalType":"uint256","name":"entryPrice","type":"uint256"},{"internalType":"uint256","name":"liquidationPrice","type":"uint256"},{"internalType":"uint256","name":"position","type":"uint256"},{"internalType":"uint256","name":"collateralAmount","type":"uint256"},{"internalType":"address","name":"borrowedToken","type":"address"},{"internalType":"uint256","name":"reward","type":"uint256"},{"internalType":"uint256","name":"ltv","type":"uint256"}],"internalType":"struct KlaswapPositionPoolDataProvider.UserPosition[]","name":"userPositions","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolViewer","outputs":[{"internalType":"contract IPositionPoolViewer","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},238:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"name":"user","type":"address"},{"indexed":false,"name":"userContract","type":"address"}],"name":"CreateUser","type":"event"}]')},404:function(e,t,a){},406:function(e,t,a){var n={"./caver-abi/src/index.js":113,"./caver-account/src/index.js":65,"./caver-contract/src/index.js":77,"./caver-core-helpers/src/index.js":41,"./caver-core-method/src/index.js":59,"./caver-core-requestmanager/caver-providers-http/src/index.js":306,"./caver-core-requestmanager/caver-providers-ipc/src/index.js":310,"./caver-core-requestmanager/caver-providers-ws/src/index.js":305,"./caver-core-requestmanager/src/index.js":303,"./caver-core-subscriptions/src/index.js":104,"./caver-core/src/index.js":49,"./caver-ipfs/src/index.js":314,"./caver-kct/src/index.js":376,"./caver-klay/caver-klay-accounts/src/index.js":379,"./caver-klay/caver-klay-personal/src/index.js":382,"./caver-klay/src/index.js":383,"./caver-middleware/src/index.js":186,"./caver-net/src/index.js":231,"./caver-rpc/src/index.js":384,"./caver-rtm/src/index.js":110,"./caver-transaction/src/index.js":385,"./caver-utils/iban/src/index.js":298,"./caver-utils/promievent/src/index.js":297,"./caver-utils/src/index.js":10,"./caver-validator/src/index.js":386,"./caver-wallet/src/index.js":208};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=406},408:function(e,t){},418:function(e,t){},420:function(e,t){},430:function(e,t){},432:function(e,t){},457:function(e,t){},458:function(e,t){},463:function(e,t){},465:function(e,t){},472:function(e,t){},491:function(e,t){},589:function(e,t){},595:function(e,t){},607:function(e,t){},608:function(e,t){},869:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(389),c=a.n(r),i=(a(404),a(11)),o=a(81),l=a(92),d=a(2);function u(e){return Object(l.a)(e),Object(d.jsx)("footer",{className:"footer mt-2",children:Object(d.jsxs)("div",{className:"content has-text-centered",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Klaytn Defi ?"})," by kim0xsugar \ud83e\udd64."]}),Object(d.jsxs)("div",{className:"block",children:["Feedback & Email :"," ",Object(d.jsx)("a",{href:"mailto:kim0sugar1@gmail.com",children:"kim0sugar1@gmail.com"})," "]})]})})}var p=function(){var e=Object(i.j)(),t=Object(n.useMemo)((function(){var t=e.pathname;return"/kokoa-status"===t?"Collaterals & Loans Status":"impermanent-loss"===t?"Impermanent Loss Calculator":"/"===t?"kim0xsugar":void 0}),[e]);return Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(d.jsx)("h1",{className:"is-size-2 is-size-4-mobile",children:t})})};function b(e){return Object(l.a)(e),Object(n.useEffect)((function(){document.addEventListener("DOMContentLoaded",(function(){Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0).forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.target,a=document.getElementById(t);e.classList.toggle("is-active"),null===a||void 0===a||a.classList.toggle("is-active")}))}))}))}),[]),Object(d.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(d.jsxs)("div",{className:"navbar-brand",children:[Object(d.jsx)(o.b,{className:"navbar-item",to:"/",children:Object(d.jsx)("span",{className:"is-size-4 has-text-primary",children:"kim0xSugar"})}),Object(d.jsxs)("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(d.jsx)("span",{"aria-hidden":"true"}),Object(d.jsx)("span",{"aria-hidden":"true"}),Object(d.jsx)("span",{"aria-hidden":"true"})]})]}),Object(d.jsx)("div",{id:"navbarBasicExample",className:"navbar-menu",children:Object(d.jsxs)("div",{className:"navbar-start",children:[Object(d.jsx)(o.b,{to:"/kokoa-status",className:"navbar-item",children:"Kokoa Status"}),Object(d.jsx)(o.b,{to:"/klayswap-position",className:"navbar-item",children:"Klayswap Position"})]})})]})}var m=a(12),j=a(16),f=a(38),x=a(22),y=a(42),h=(a(234),a(235),a(236)),v=a(237),O=a(238),g=a(156),k=a.n(g),T=["https://klaytn01.fandom.finance/","https://klaytn02.fandom.finance/","https://klaytn03.fandom.finance/","https://klaytn04.fandom.finance/","https://klaytn05.fandom.finance/"],S=function(){return new k.a(T[Math.floor(Math.random()*T.length)])},D=function(){return new(S().klay.Contract)(h,"0xaB50c50DC18c2e133a0060e03A516064c838B136")},C=function(){return new(S().klay.Contract)(v,"0x831AD054e6EdBF1a3f33bDeE8ddfca7cfc64e82A")},w=s.a.createContext(null),P=function(){var e=s.a.useContext(w);if(!e)throw new Error("usePositionPool must be used within a PositionPoolContextProvider");return Object(y.a)({},e.positionPoolDataProvider)},L=function(e){var t=e.children,a=Object(n.useState)(null),s=Object(x.a)(a,2),r=s[0],c=s[1],i={};Object(n.useEffect)((function(){var e=C();Object(f.a)(Object(j.a)().mark((function t(){var a,n;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.methods.getPositionPoolList().call();case 2:a=t.sent,n=a.map((function(e){return{pool:e.pool,token:e.token,symbol:e.symbol,decimals:e.decimals,maxLtv:e.maxLtv/1e18,liqudationLtv:e.liqudation/1e18,oraclePrice:e.oraclePrice/1e18}})),c(n);case 5:case"end":return t.stop()}}),t)})))()}),[]);var o=Object(n.useCallback)(function(){var e=Object(f.a)(Object(j.a)().mark((function e(t){var a,n,s,r,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C(),o=t.pool,n=new(S().klay.Contract)(O,o),e.next=4,n.getPastEvents("CreateUser",{fromBlock:"104365981",toBlock:"latest"}).then((function(e){return e.map((function(e){var t;return null===(t=e.returnValues)||void 0===t?void 0:t.user}))}));case 4:return s=e.sent,e.next=7,a.methods.getUserDataList(t.pool,s).call();case 7:return r=e.sent,c=r.map((function(e,a){return{pool:t.pool,user:s[a],collateralInUsd:e.collateralInUsd/1e18,borrowedInUsd:e.borrowedInUsd/1e18,swappedInUsd:e.swappedInUsd/1e18,positionAmount:e.positionAmount/Math.pow(10,t.decimals),pnl:e.pnl/1e18,roe:e.roe/100,entryPrice:e.entryPrice/1e18,liquidationPrice:e.liquidationPrice/1e18,position:Number(e.position),collateralAmount:e.collateralAmount/1e18,currentLtv:e.ltv/1e16}})).filter((function(e){return e.collateralInUsd>0})),i=Object(y.a)(Object(y.a)({},i),{},Object(m.a)({},t.pool,c)),e.abrupt("return",c);case 11:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),l=Object(n.useMemo)((function(){return console.log(i),{poolInfos:r,accountInfos:i,getPoolAccountInfosData:o}}),[r,Object.keys(i).length,o]);return Object(d.jsx)(w.Provider,{value:{positionPoolDataProvider:l},children:t})},K=a(32),N=[{collateralType:"klay",symbol:"KLAY",imgSrc:"https://app.kokoa.finance/assets/klay.73bbfc98.png",feed:"0x66519B56463fC431d6b4E6fA502d320F79804247",decimals:18},{collateralType:"WEMIX",symbol:"WEMIX",imgSrc:"https://app.kokoa.finance/assets/wemix.e4fd74c5.svg",feed:"0x41f43d71e624BE1DF1DFcbf81EeE53b1822adC3F",decimals:18},{collateralType:"KWBTC",symbol:"oWBTC",imgSrc:"https://app.kokoa.finance/assets/kwbtc.828e9196.svg",feed:"0x98CDFcf0F0b13DcAbed69a2ec09E8Cb9dC16efad",decimals:8},{collateralType:"KETH",symbol:"oETH",imgSrc:"https://app.kokoa.finance/assets/keth.f14b2be5.svg",feed:"0x83Ab967cA6B4b122A39c3295e649eAC74322bEc9",decimals:18},{collateralType:"KXRP",symbol:"oXRP",imgSrc:"https://app.kokoa.finance/assets/kxrp.28100403.svg",feed:"0xBb5cC84a7ab4afdad6Db52Ba1443b0d0E81eD1F4",decimals:6},{collateralType:"KSP",symbol:"KSP",imgSrc:"https://app.kokoa.finance/assets/ksp.836bb20c.svg",feed:"0xf938F3Bb6E684C370126DF74F232656da9c74B8c",decimals:18},{collateralType:"KORC",symbol:"oORC",imgSrc:"https://app.kokoa.finance/assets/korc.29e1d62c.svg",feed:"0x416e57e82f693C2797F90D1E7e7AF9350E2115eA",decimals:18},{collateralType:"KDAI",symbol:"KDAI",imgSrc:"https://app.kokoa.finance/assets/kdai.1bd3b5dc.png",feed:"0x4FF98cf6633D54d86a60F173A2fE556464Aa84bc",decimals:18},{collateralType:"KUSDT",symbol:"oUSDT",imgSrc:"https://app.kokoa.finance/assets/kusdt.28403356.svg",feed:"0x66C49d4738Ba08847eF8C17347da90fb54016c74",decimals:6},{collateralType:"KUSDC",symbol:"oUSDC",imgSrc:"https://app.kokoa.finance/assets/kusdc.14fcf4a3.png",feed:"0xf5D7DA7dFC8FE79e29d6a95c081c302FF481F3BE",decimals:6}],A=N.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{collateralType:"X".concat(e.collateralType.toUpperCase()),symbol:"X".concat(e.symbol)})})),I=[].concat(N,[{collateralType:"ibKDAI",symbol:"ibKDAI",imgSrc:"https://app.kokoa.finance/assets/ibkdai.e08c11c5.png",feed:"0xd4c3F2d57E4BeB4D6E9b887Ff9f98420A9de3d0e",decimals:18},{collateralType:"ibKUSDT",symbol:"iboUSDT",imgSrc:"https://app.kokoa.finance/assets/ibkusdt.27b626af.png",feed:"0x943E9b3aa97fC15C7C78d9C1D9b936f03Ba5DdD4",decimals:6}],[{collateralType:"KSLPKUSDTKDAI",symbol:"oUSDT-KDAI",imgSrc:"",feed:"0x5AEbAE55fdccc757a8FB445f41018b01Dc6b379C",decimals:6},{collateralType:"KSLPKUSDTKUSDC",symbol:"oUSDT-oUSDC",imgSrc:"",feed:"0x7E0f2EEC57c877445254ce432F2D8f2ef1184A18",decimals:6},{collateralType:"KSLPKLAYKDAI",symbol:"KLAY-KDAI",imgSrc:"",feed:"0xD551C6A4a3C1733502400fc05D3c2C665299FbCc",decimals:18},{collateralType:"KSLPKETHKUSDT",symbol:"oETH-oUSDT",imgSrc:"",feed:"0xf6902c9CC3724B85A05e8921637abd917D314c0f",decimals:18},{collateralType:"KSLPKXRPKDAI",symbol:"oXRP-KDAI",imgSrc:"",feed:"0xb518b47F7ca9348Ba4Ee19f6F76C203245347C44",decimals:6},{collateralType:"KSLPKSPKUSDT",symbol:"KSP-oUSDT",imgSrc:"",feed:"0x25271D99Ad1857dE140c119ba996377A4a2382e1",decimals:18},{collateralType:"KSLPKORCKDAI",symbol:"oORC-KDAI",imgSrc:"",feed:"0x8b40B3F02c6Ba92D69d8CF65e56f3dD12cF72674",decimals:18}],Object(K.a)(A)),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:t})},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.toLocaleString("en-US",{maximumFractionDigits:t})},U=function(){var e=Object(f.a)(Object(j.a)().mark((function e(){var t,a,n,s;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,a={},e.prev=2,e.next=5,fetch("https://prod.kokoa-api.com/vaults/borrow").then((function(e){return e.json()}));case 5:return n=e.sent,e.next=8,fetch("https://prod.kokoa-api.com/vaults/lever-easy").then((function(e){return e.json()}));case 8:return s=e.sent,n.vaults.concat(s.vaults).forEach((function(e){var n;a[(n=e.collateralType,k.a.utils.hexToUtf8(n))]=Number(e.totalBorrowedAmount)*Math.abs(Number(e.stabilityFeeApr))/36500,t+=Number(e.totalBorrowedAmount)*Math.abs(Number(e.stabilityFeeApr))/36500})),e.abrupt("return",{totalInterestKsd:t,interestKsd:a});case 14:return e.prev=14,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",{totalInterestKsd:t,interestKsd:a});case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),B=s.a.createContext(null),M=function(e){var t=e.children,a=Object(n.useState)([]),s=Object(x.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)(null),o=Object(x.a)(i,2),l=o[0],u=o[1];Object(n.useEffect)((function(){var e=D();Object(f.a)(Object(j.a)().mark((function t(){var a,n,s,r;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U();case 2:return a=t.sent,n=I,t.next=6,e.methods.getCollateralInfos(I.map((function(e){return e.collateralType})),I.map((function(e){return e.feed}))).call();case 6:s=t.sent,r=n.map((function(e,t){var n=s.rates[t]/1e27,r=s.totalLockCollaterals[t]/Math.pow(10,e.decimals),c=s.totalLoans[t]*n/Math.pow(10,18),i=s.oraclePrices[t]/Math.pow(10,36-e.decimals),o=Number(s.vaultLengths[t]),l=(c/(r*i)*100).toFixed(2);return Object(y.a)(Object(y.a)({},e),{},{"Total Locked Collaterals":r,"Total Borrowed KSD":c,"Oracle Price":i,"Average LTV":l+" %","Vault Length":o,"Daily KSD Interest":a.interestKsd[e.collateralType],rate:n})})),c(r);case 9:case"end":return t.stop()}}),t)})))()}),[]),Object(n.useEffect)((function(){r.length>0&&Object(f.a)(Object(j.a)().mark((function e(){var t,a,n;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},a=Object(j.a)().mark((function e(a){var n,s,c,i,o,l,d,u,p,b,m,f,x,y;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=D(),s=r[a]["Vault Length"],c=Number(r[a]["Oracle Price"]),i=r[a].decimals,o=r[a].rate,l=[],d=void 0,!(s<300)){e.next=13;break}return e.next=10,n.methods.getVaultInfoList(r[a].collateralType,0,s).call();case 10:d=e.sent,e.next=19;break;case 13:for(u=Math.floor(s/300),p=[],b=0;b<u+1;b++)p.push(n.methods.getVaultInfoList(r[a].collateralType,300*b,b<u?300*(b+1):s).call());return e.next=18,Promise.all(p);case 18:d=e.sent;case 19:if(Array.isArray(d))d.forEach((function(e){e.totalLockCollaterals.forEach((function(t,a){var n=t/Math.pow(10,i),s=e.totalLoans[a]*o/Math.pow(10,18),r=s/(n*c)*100;l.push({lockedCollateral:n,borrowedKSD:s,index:e.indexes[a],address:e.accounts[a],ltv:isNaN(r)?"0.00 %":r.toFixed(2)+" %"})}))}));else for(m=0;m<s;m++)f=d.totalLockCollaterals[m]/Math.pow(10,i),x=d.totalLoans[m]*o/Math.pow(10,18),y=x/(f*c)*100,l.push({lockedCollateral:f,borrowedKSD:x,index:d.indexes[m],address:d.accounts[m],ltv:isNaN(y)?"0.00 %":y.toFixed(2)+" %"});t[r[a].collateralType]=l;case 21:case"end":return e.stop()}}),e)})),n=0;case 3:if(!(n<r.length)){e.next=8;break}return e.delegateYield(a(n),"t0",5);case 5:n++,e.next=3;break;case 8:u(t);case 9:case"end":return e.stop()}}),e)})))()}),[r]);var p=Object(n.useMemo)((function(){return{collateralInfos:r,vaultList:l}}),[,r,l]);return Object(d.jsx)(B.Provider,{value:{dataProvider:p},children:t})},q=function(e){return Object(d.jsx)("div",{className:"level-item has-text-centered",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"heading",children:e.heading}),Object(d.jsx)("p",{className:"title",children:e.title})]})})};function R(e){var t=e.onChange,a=e.value,n=e.style;return Object(d.jsx)("input",{style:n,onChange:t,value:a,className:"input",type:"text",placeholder:"Search Address"})}var V={"0x348acec176d0457ecb3b596ff9d9d9c089cafdf1":"WEMADE"},W=function(e){return e.toLowerCase()in V?V[e.toLowerCase()]+" ( ".concat(H(e)," )"):e},H=function(e){return e.slice(0,6)+"..."+e.slice(-4)},X=function(e,t){return!!t.toLowerCase().match(e.toLowerCase())},J=function(e){var t=P().getPoolAccountInfosData,a=Object(n.useState)(null),s=Object(x.a)(a,2),r=s[0],c=s[1];Object(n.useEffect)((function(){Object(f.a)(Object(j.a)().mark((function a(){return Object(j.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=c,a.next=3,t(e.poolData);case 3:a.t1=a.sent,(0,a.t0)(a.t1);case 5:case"end":return a.stop()}}),a)})))()}),[]);var i=Object(n.useMemo)((function(){return null===r||void 0===r?void 0:r.sort((function(e,t){return Math.abs(t.positionAmount)-Math.abs(e.positionAmount)})).filter((function(t){return!e.searchAddr||X(e.searchAddr,t.user)}))}),[r,e.searchAddr]);return i?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(Y,{children:[Object(d.jsx)(_,{tableHeader:e.tableHeader}),Object(d.jsx)("tbody",{children:i.map((function(e,t){return Object(d.jsx)(G,{data:e})}))})]})}):Object(d.jsx)("progress",{className:"progress is-large is-info",max:"100",children:"60%"})},z=function(e){var t=Object(n.useMemo)((function(){var t;return null===(t=e.accountInfos)||void 0===t?void 0:t.sort((function(e,t){return Number(t.borrowedKSD)-Number(e.borrowedKSD)})).filter((function(t){return!e.searchAddr||X(e.searchAddr,t.address)}))}),[e.accountInfos]),a=Object(n.useState)(!1),s=Object(x.a)(a,2),r=s[0],c=s[1];return t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(Y,{children:[Object(d.jsx)(_,{tableHeader:e.tableHeader,hideIndex:!0}),Object(d.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(t,a){return!r&&a>10?null:Object(d.jsx)($,{index:t.index,lockedCollateral:t.lockedCollateral,borrowedKSD:t.borrowedKSD,ltv:t.ltv,address:t.address,oraclePrice:e.oraclePrice})}))})]}),t.length>10&&Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"is-flex is-justify-content-center",onClick:function(){return c((function(e){return!e}))},children:[Object(d.jsx)("div",{className:"mx-3",style:{rotate:r?"180deg":"0deg"},children:Object(d.jsx)("i",{className:"fas fa-angle-double-down"})}),Object(d.jsxs)("div",{children:[r?"Close":"See More"," "]})]})})]}):Object(d.jsx)("progress",{className:"progress is-large is-info",max:"100",children:"60%"})},Y=function(e){return Object(d.jsx)("div",{className:"table-container",children:Object(d.jsx)("table",{className:"table is-fullwidth is-hoverable",children:e.children})})},_=function(e){var t=e.tableHeader,a=e.hideIndex;return Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:t&&t.map((function(e,t){return 0===t&&a?Object(d.jsx)("th",{className:"is-hidden-mobile",children:e}):Object(d.jsx)("th",{children:e})}))})})},$=function(e){var t=e.index,a=e.address,n=e.lockedCollateral,s=e.borrowedKSD,r=e.ltv,c=e.oraclePrice;return Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"is-hidden-mobile",children:t}),Object(d.jsx)("td",{children:Object(d.jsxs)("a",{href:"https://scope.klaytn.com/account/".concat(a),style:{textDecoration:"none !important"},target:"_blank",children:[Object(d.jsx)("span",{className:"is-hidden-mobile",children:W(a)}),Object(d.jsx)("span",{className:"is-hidden-tablet",children:H(a)})]})}),Object(d.jsxs)("td",{style:{minWidth:"20%"},children:[n.toLocaleString("en-US",{maximumFractionDigits:c>1e3?4:0})," ",Object(d.jsx)("div",{className:"is-size-6",style:{color:"hsl(171, 100%, 41%)"},children:"($ ".concat((n*c).toLocaleString("en-US",{maximumFractionDigits:0}),"\n          )")})]}),Object(d.jsx)("td",{children:s.toLocaleString("en-US",{maximumFractionDigits:0})}),Object(d.jsx)("td",{children:r})]})},G=function(e){var t=e.data;return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("a",{href:"https://scope.klaytn.com/account/".concat(t.user),style:{textDecoration:"none !important"},target:"_blank",children:Object(d.jsx)("span",{children:H(t.user)})})}),Object(d.jsx)("th",{className:1===t.position?"has-text-success":"has-text-danger",children:1===t.position?"Long":"Short"}),Object(d.jsx)("td",{children:E(t.positionAmount,4)}),Object(d.jsx)("td",{children:"".concat(F(t.collateralInUsd))}),Object(d.jsx)("td",{className:"has-text-right",children:t.roe.toFixed(2)+"%"}),Object(d.jsx)("td",{className:"has-text-right",children:F(t.pnl)}),Object(d.jsx)("td",{className:"has-text-right",children:t.currentLtv.toFixed(2)+"%"}),Object(d.jsx)("td",{className:"has-text-right",children:F(t.liquidationPrice,4)})]})},Q=function(e){switch(e){case"KLAY":return"https://app.kokoa.finance/assets/klay.73bbfc98.png";case"WEMIX":return"https://app.kokoa.finance/assets/wemix.e4fd74c5.svg";case"oWBTC":return"https://app.kokoa.finance/assets/kwbtc.828e9196.svg";case"oETH":return"https://app.kokoa.finance/assets/keth.f14b2be5.svg";case"oXRP":return"https://app.kokoa.finance/assets/kxrp.28100403.svg";case"KSP":return"https://app.kokoa.finance/assets/ksp.836bb20c.svg";case"oORC":return"https://app.kokoa.finance/assets/korc.29e1d62c.svg";case"KDAI":return"https://app.kokoa.finance/assets/kdai.1bd3b5dc.png";case"oUSDT":return"https://app.kokoa.finance/assets/kusdt.28403356.svg";case"oUSDC":return"https://app.kokoa.finance/assets/kusdc.14fcf4a3.png";case"ibKDAI":return"https://app.kokoa.finance/assets/ibkdai.e08c11c5.png";case"iboUSDT":return"https://app.kokoa.finance/assets/ibkusdt.27b626af.png";case"MBX":return"https://s.klayswap.com/data/img/token/0xd068c52d81f4409b9502da926ace3301cc41f623.svg";case"ORC":return"https://s.klayswap.com/data/img/token/0xfe41102f325deaa9f303fdd9484eb5911a7ba557.svg";case"BORA":return"https://s.klayswap.com/data/img/token/0x02cbe46fb8a1f579254a9b485788f2d86cad51aa.png";default:return""}};var Z=function(){var e=P(),t=e.poolInfos,a=e.accountInfos,r=s.a.useState(""),c=Object(x.a)(r,2),i=c[0],o=c[1],l=s.a.useState("all"),u=Object(x.a)(l,2);return u[0],u[1],Object(n.useMemo)((function(){return{totalLockCollateralsInUSD:0,totalBorrowedKSD:0,totalInterestKSD:0}}),[]),Object(d.jsxs)("div",{className:"p-4 my-4",children:[Object(d.jsxs)("div",{className:"box  m-2",children:[Object(d.jsx)("div",{className:"subtitle",children:"\ud074\ub808\uc774\uc2a4\uc651 \ud3ec\uc9c0\uc158 \ud480 \ubaa8\ub2c8\ud130\ub9c1"}),Object(d.jsx)("p",{children:"1. \ud3ec\uc9c0\uc158 \uc885\ub8cc \uc2dc \ubc1b\uc744 \uc218 \uc788\ub294 \uc2e4\uc81c \uae08\uc561 ROE, PnL \ud45c\uae30"}),Object(d.jsx)("p",{className:"has-text-danger",children:"** \ucc38\uace0\ub9cc \ud558\uc138\uc694 \ub370\uc774\ud130\uac00 \uc815\ud655\ud558\uc9c0 \uc54a\uc744 \uc218 \uc788\uc74c **"})]}),Object(d.jsx)("div",{className:"px-4 is-flex is-justify-content-end",children:Object(d.jsx)(R,{style:{maxWidth:"480px"},onChange:function(e){return o(e.target.value)},value:i})}),t&&t.map((function(e){var t;return Object(d.jsxs)("div",{className:"box m-2",children:[Object(d.jsxs)("div",{className:"block is-flex is-align-items-center ",style:{gap:"12px"},children:[Object(d.jsx)("figure",{className:"image is-48x48",children:Object(d.jsx)("img",{className:"is-rounded",src:Q(e.symbol)})}),Object(d.jsx)("h2",{className:"subtitle",children:e.symbol})]}),Object(d.jsxs)("nav",{className:"level",children:[Object(d.jsx)(q,{heading:"Oracle Price",title:F(e.oraclePrice,4)}),Object(d.jsx)(q,{heading:"Liqudation LTV",title:(100*e.liqudationLtv).toString()+"%"})]}),Object(d.jsx)(J,{searchAddr:i,tableHeader:["Address","Position","Size","Margin","ROE","PnL","Current LTV","Liqudation Price"],tableData:null!==(t=null===a||void 0===a?void 0:a[e.pool])&&void 0!==t?t:null,poolData:e})]})}))]})};var ee=function(){var e=function(){var e=s.a.useContext(B);if(!e)throw new Error("useWeb3Context must be used within a Web3ContextProvider");return Object(y.a)({},e.dataProvider)}(),t=e.collateralInfos,a=e.vaultList,r=s.a.useState(""),c=Object(x.a)(r,2),i=c[0],o=c[1],l=s.a.useState("all"),u=Object(x.a)(l,2),p=(u[0],u[1],Object(n.useMemo)((function(){var e=0,a=0,n=0;return t.forEach((function(t){e+=t["Total Locked Collaterals"]*t["Oracle Price"],a+=t["Total Borrowed KSD"],n+=t["Daily KSD Interest"]})),{totalLockCollateralsInUSD:0|e,totalBorrowedKSD:0|a,totalInterestKSD:0|n}}),[t]));return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"box m-2",children:Object(d.jsxs)("nav",{className:"level",children:[Object(d.jsx)(q,{heading:"Total Collaterals In USD",title:F(p.totalLockCollateralsInUSD)}),Object(d.jsx)(q,{heading:"Total Borrowed KSD",title:F(p.totalBorrowedKSD)}),Object(d.jsx)(q,{heading:"Daily KSD Interest Accrual",title:F(p.totalInterestKSD)})]})}),Object(d.jsx)("div",{className:"px-4 is-flex is-justify-content-end",children:Object(d.jsx)(R,{style:{maxWidth:"480px"},onChange:function(e){return o(e.target.value)},value:i})}),t.length>0&&t.map((function(e){var t,n,s,r,c,o,l=null===a||void 0===a||null===(t=a[e.collateralType])||void 0===t?void 0:t.filter((function(e){return e.borrowedKSD>0}));return Object(d.jsxs)("div",{className:"box m-2",children:[Object(d.jsxs)("div",{className:"block is-flex is-align-items-center ",style:{gap:"12px"},children:[e.imgSrc?Object(d.jsx)("figure",{className:"image is-48x48",children:Object(d.jsx)("img",{className:"is-rounded",src:e.imgSrc})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("figure",{className:"image is-48x48",children:Object(d.jsx)("img",{className:"is-rounded",src:Q(e.symbol.split("-")[0])})})," ",Object(d.jsx)("figure",{className:"image is-48x48",style:{marginLeft:"-18px"},children:Object(d.jsx)("img",{className:"is-rounded",src:Q(e.symbol.split("-")[1])})})]}),Object(d.jsx)("h2",{className:"subtitle",children:e.symbol})]}),Object(d.jsxs)("nav",{className:"level",children:[Object(d.jsx)(q,{heading:"Total Locked Collaterals",title:null===(n=e["Total Locked Collaterals"])||void 0===n?void 0:n.toLocaleString("en-US",{maximumFractionDigits:e["Oracle Price"]>1e3?4:0})}),Object(d.jsx)(q,{heading:"Total Borrowed KSD",title:null===(s=e["Total Borrowed KSD"])||void 0===s?void 0:s.toLocaleString("en-US",{maximumFractionDigits:0})}),Object(d.jsx)(q,{heading:"Oracle Price",title:null===(r=e["Oracle Price"])||void 0===r?void 0:r.toLocaleString("en-US",{maximumFractionDigits:4})}),Object(d.jsx)(q,{heading:"Average LTV",title:e["Average LTV"]})]}),Object(d.jsxs)("nav",{className:"level is-mobile",children:[Object(d.jsx)(q,{heading:"Cumulative Users",title:null===a||void 0===a||null===(c=a[e.collateralType])||void 0===c?void 0:c.length.toString()}),Object(d.jsx)(q,{heading:"Active Users",title:null===l||void 0===l?void 0:l.length.toString()}),Object(d.jsx)(q,{heading:"Daily KSD Interest",title:null===(o=e["Daily KSD Interest"])||void 0===o?void 0:o.toLocaleString("en-US",{maximumFractionDigits:0,style:"currency",currency:"USD"})})]}),Object(d.jsx)(z,{searchAddr:i,oraclePrice:e["Oracle Price"],accountInfos:l,tableHeader:["Index","Address","Collateral","Borrowed KSD","LTV"]})]})}))]})},te=a(877);function ae(e){return Object(l.a)(e),Object(d.jsx)("div",{className:"block  m-6",children:Object(d.jsx)(te.a,{children:"\n\n## \n\n1. [\ucf54\ucf54\uc544 \ud30c\uc774\ub0b8\uc2a4 \ub2f4\ubcf4\ubb3c & KSD \ubaa8\ub2c8\ud130\ub9c1](https://kim0xsugar.github.io/kokoa-status)\n- \ub2f4\ubcf4\ubb3c \ubcc4 KSD \ubc1c\ud589\ub7c9, CDP \uc5f0 \uc720\uc800\uc758 \uc218\n- \uc720\uc800 \ubcc4 CDP \ubaa8\ub2c8\ud130\ub9c1  \n\n &nbsp; \n\n &nbsp;   \n\n\n\n  \n2. [\ud074\ub808\uc774\uc2a4\uc651 \ud3ec\uc9c0\uc158 \ud480 \ubaa8\ub2c8\ud130\ub9c1](https://kim0xsugar.github.io/klayswap-position)\n- \uc720\uc800 \ubcc4 \ud3ec\uc9c0\uc158 \uc870\ud68c \n- \uccad\uc0b0\uac00 \ud655\uc778\n"})})}var ne=function(){return Object(d.jsx)(o.a,{basename:"",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{style:{margin:"0 auto",maxWidth:"1024px"},children:[Object(d.jsx)(p,{}),Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"kokoa-status",element:Object(d.jsx)(M,{children:Object(d.jsx)(ee,{})})}),Object(d.jsx)(i.a,{path:"/klayswap-position",element:Object(d.jsx)(L,{children:Object(d.jsx)(Z,{})})}),Object(d.jsx)(i.a,{path:"/",element:Object(d.jsx)(ae,{})})]})]}),Object(d.jsx)(u,{})]})})},se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,878)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};a(868);c.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(ne,{})),se()}},[[869,1,2]]]);